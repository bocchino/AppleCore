#
# Makefile for translating asm handwritten asm files.
#
ACC      ?= ${APPLECORE}/Compiler/bin/acc
ASM2EXEC  = ${APPLECORE}/Scripts/asm2exec
SRCS      = ${wildcard asm/*.asm}
MAKE_ALL ?= perl ${APPLECORE}/Scripts/make-all.pl

all-exec : exec ${SRCS}
	${MAKE_ALL} asm exec

file-exec : asm/${FILE}.asm
	make exec/${FILE}.exec

exec/${FILE}.exec : asm/${FILE}.asm exec 
	${ASM2EXEC} < $< > $@

exec : 
	mkdir $@

clean ::
	rm -Rf exec
