# -------------------------------------
# TEST DOS 3.3 TEST FILE ACCESS
# -------------------------------------

CONST INBUF     $200;
CONST MON_CROUT $FD8E;

DATA OPEN     "\$04OPEN FILE\$0D";
DATA READ     "\$04READ FILE\$0D";
DATA WRITE    "\$04WRITE FILE\$0D";
DATA DATA_STR "SUCCESS!\$0D";
DATA CLOSE    "\$04CLOSE FILE\$0D";
DATA DELETE   "\$04DELETE FILE\$0D";

FN PRINT_CHAR(CHAR:1);
FN:1 GET_LINE();
FN PRINT_STRING(STR:2);

FN MAIN() {
   # WRITE DATA TO FILE
   PRINT_STRING(OPEN);
   PRINT_STRING(WRITE);
   PRINT_STRING(DATA_STR);
   PRINT_STRING(CLOSE);

   # READ DATA FROM FILE AND PRINT
   PRINT_STRING(OPEN);
   PRINT_STRING(READ);
   GET_LINE();
   MON_CROUT();
   PRINT_STRING(INBUF);
   MON_CROUT();

   # CLOSE AND DELETE   
   PRINT_STRING(CLOSE);
   PRINT_STRING(DELETE);

}

INCLUDE "IO";